import"./navigation-D9mB5hQw.js";import{l as f,S as v}from"./loadNavbar-DFpoMdV-.js";document.addEventListener("DOMContentLoaded",()=>{f();const r=document.getElementById("tbody"),l=document.getElementById("q"),n=document.getElementById("btnAtualizar"),o=document.getElementById("alert");if(!r){console.error("Tabela não encontrada!");return}const i=t=>{o&&(o.textContent=t,o.classList.remove("d-none"))},E=()=>o?.classList.add("d-none"),m=t=>{n&&(n.disabled=t,n.textContent=t?"Carregando...":"Atualizar")};let a=[];const u=async()=>{m(!0),E();try{a=(await new v().getSheetObjects("Cadastro")||[]).map(e=>({nome:e?.Nome??e?.nome??"",email:e?.Email??e?.email??"",observacoes:e?.Observacoes??e?.Observações??e?.observacoes??e?.observações??""})),C()}catch(t){console.error("Erro ao buscar dados:",t),i(t?.message||"Não foi possível carregar os usuários.")}finally{m(!1)}},C=()=>{if(r.innerHTML="",!a.length){i('Nenhum usuário encontrado na aba "Cadastro".');return}const t=(l?.value||"").trim().toLowerCase(),b=t?a.filter(e=>(e.nome||"").toLowerCase().includes(t)||(e.email||"").toLowerCase().includes(t)):a;for(const e of b){const s=document.createElement("tr"),p=document.createElement("td");p.textContent=e.nome||"—";const d=document.createElement("td");if(e.email){const c=document.createElement("a");c.href=`mailto:${e.email}`,c.textContent=e.email,d.appendChild(c)}else d.textContent="—";const h=document.createElement("td");h.textContent=e.observacoes||"—",s.appendChild(p),s.appendChild(d),s.appendChild(h),r.appendChild(s)}};n?.addEventListener("click",u),l?.addEventListener("input",C),u()});
